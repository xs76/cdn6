var GameOverState = {preload: function(){world = this; settings(this); game.stage.backgroundColor = "#000000"; }, create: function() {muPlay('muTitle',1,true); game.world.setBounds(-screenWidth,40,screenWidth * 3, screenHeight); world.game.add.sprite(0,40, 'bgGo'); world.ct = 50; world.f = 0; world.fun = [goWait, goShowClick, goNull]; game.camera.x = 0; if(screenShot){screenShot = addSprite(-screenWidth,40, screenShot); game.camera.x = -screenWidth; screenShot.aMinus = 0; } }, update: function(){if(screenShot){screenShot.alpha += screenShot.aMinus; screenShot.aMinus -= 0.0006; if(screenShot.alpha < 0){screenShot.alpha = 0; } game.camera.x += 10; if(game.camera.x > 0){game.camera.x = 0; screenShot.kill(); screenShot = null; } return; } world.fun[world.f](); }, render: function(){if(rotDevice){rotDevice.x = game.camera.x; rotDevice.y = game.camera.y; game.world.bringToTop(rotDevice); } } }; function goClick(pointer){if(rotDevice){return;} takeScreenShot(); levl = 0; clickSound(); newState(); } function goWait(){world.ct--; if(world.ct < 0){world.f++; world.ct = 0; } } function goShowClick(){var c2c = world.game.add.sprite(screenWidth * 0.5, screenHeight - 40, 'c2c'); c2c.animations.add('idle', null, 1); c2c.play('idle',null,true); c2c.anchor.setTo(0.5, 1); game.input.onDown.add(goClick); world.f++; } function goNull(){}